<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COFFEE</title>
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/entries.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300..700&family=Zen+Dots&display=swap" rel="stylesheet">
</head>
<style>
.div1{
        /* 适用于大屏幕 */
        grid-area: 1 / 1 / 8 / 36;
    font-size: calc(2.5vw + 40px); /* 根据屏幕宽度变化字体 */
  }
  
  /* 当屏幕宽度小于 1024px（进入手机布局）时 */
  @media (max-width: 1024px) {
    .parent {
      grid-template-columns: repeat(10, 1fr);
      grid-template-rows: repeat(46, 1fr);
    }
  
    .div1 {
      grid-area: 1 / 1 /8/ 6;
  
      /* 让字体大小基于网格宽度变化，保证缩放时仍然协调 */
      font-size: calc(4.5vw);
    }
}
</style>
<body>
    <div class="parent">
        <div class="div1">
            <p>ENVIRONMENT</p>
        </div>
        <div class="div2">
            <a href="2stimulant.html" class="badge-link">
                <div class="badge"><p>BACK</p></div>
            </a>
            <span class="outline" id="eurekaBtn">EUREKA</span>
        </div>
        <div class="div5">
            <div id="content">
                <p id="text0"><span class="trigger-word" data-target="text1"> So it's not an accident that a great flowering of innovation happened as England switched to tea and coffee.</span></p>
                <p id="text1" class="hidden-text">
                    But the other thing that makes the coffeehouse important is the architecture of the space. It was a <span class="trigger-word" data-target="text2">space</span> where people would get together, from different backgrounds, different fields of expertise, and share. 
                </p>
                <p id="hint1" class="hint">A place for (gathering and sharing ideas).</p>
        
                <p id="text2" class="hidden-text">
                    It was a space, as Matt Ridley talked about, where ideas could have sex. This was their conjugal bed, in a sense; ideas would get together there. And an astonishing number of <span class="trigger-word" data-target="text3">innovations</span> from this period have a coffeehouse somewhere in their story.
                </p>
                <p id="hint2" class="hint">New (important ideas or inventions).</p>

                <p id="text3" class="hidden-text">
                    I've been spending a lot of time thinking about coffeehouses for the last five years because I've been kind of on this quest to <span class="trigger-word" data-target="text4">investigate</span> this question of where good ideas come from. 
                </p>
                <p id="hint3" class="hint">To (explore a question).</p>





                <p id="text4" class="hidden-text">
                    What are the <span class="trigger-word" data-target="text5">environments</span> that lead to unusual levels of innovation, unusual levels of creativity? What's the kind of environmental -- what is the space of creativity?
                </p>
                <p id="hint4" class="hint">Places that foster (creativity and innovation).</p>

                <p id="text5" class="hidden-text">
                    And what I've done is, I've looked at both environments like the <span class="trigger-word" data-target="text6">coffeehouse</span>, I've looked at media environments like the World Wide Web, that have been extraordinarily innovative; I've gone back to the history of the first cities; I've even gone to biological environments, like coral reefs and rain forests, that involve unusual levels of biological innovation. 
                </p>
                <p id="hint5" class="hint">A space that encouraged (intellectual exchange).</p>

                <p id="text6" class="hidden-text">
                    And what I've been looking for is shared <span class="trigger-word owo" data-target="text7">patterns</span>, signature behavior that shows up again and again in all of these environments. 
                </p>
                <p id="hint6" class="hint">Recurring (shared behaviors).</p>
                
                <p id="text7" class="hidden-text">
                    Are there recurring <span class="trigger-word owo" data-target="text8">patterns</span> that we can learn from, that we can take and apply to our own lives or our own organizations or our own environments to make them more creative and innovative? 
                </p>
                <p id="hint7" class="hint">Recurring (shared behaviors).</p>

                
                <p id="text8" class="hidden-text">
                    And I think I've found a few.
                    But what you have to do to make sense of this and to really understand these principles is, you have to do away with the way in which our conventional metaphors and language steers us towards certain concepts of idea creation. 
                </p>
        
            </div>
            <button id="nextPage" onclick="window.location.href='4network.html'">Next</button>
            <div class="word" onclick="showInfo(this, 'Creativity is not a single moment but a (web) of connections.','4network.html')" data-index="8">NETWORK</div><br>
        </div>
    </div>

</body>
 <script>
function showInfo(element, text, url) {
    let existingBox = element.nextElementSibling;

    // 获取当前单词的 data-index 值
    let originalIndex = element.getAttribute('data-index');

    // 如果已经存在 info-box，则删除它并恢复原来的 data-index
    if (existingBox && existingBox.classList.contains('info-box')) {
        existingBox.remove();
        element.setAttribute('data-index', originalIndex); // 恢复原数字
        return;
    }

    // 先恢复所有单词的 data-index，防止多个打开时混乱
    document.querySelectorAll('.word').forEach(word => {
        let index = word.getAttribute('data-index-original') || word.getAttribute('data-index');
        word.setAttribute('data-index', index);
    });

    // 创建新的 info-box
    let infoBox = document.createElement('div');
    infoBox.className = 'info-box show';
    
    // 创建一个链接，点击后跳转
    let link = document.createElement('a');
    link.href = url;  // 跳转链接
    link.target = '_blank'; // 在新标签页打开链接
    link.innerHTML = text;  // 展开显示的文本
    
    // 把链接添加到 info-box
    infoBox.appendChild(link);

    // 插入到 .word 下方
    element.parentNode.insertBefore(infoBox, element.nextSibling);

    // 把 data-index 改成 `>`
    element.setAttribute('data-index-original', originalIndex); // 记录原始值
    element.setAttribute('data-index', '>'); 
    
}
</script>
<script>
document.querySelectorAll(".word").forEach(word => {
    word.addEventListener("click", function() {
        this.classList.toggle("active");
    });
});
</script>
<script>
      let unlockedCount = 0; // 记录解锁的段落数
        const totalTexts = 8; // 需要解锁的段落总数

        document.addEventListener("click", function(event) {
            if (event.target.classList.contains("trigger-word")) {
                let targetId = event.target.getAttribute("data-target");
                let targetElement = document.getElementById(targetId);
                let hintElement = document.getElementById("hint" + targetId.replace("text", ""));
                
                if (targetElement && targetElement.style.display !== "block") {
                    targetElement.style.display = "block"; // 显示段落
                    unlockedCount++; // 增加计数
                }
                if (hintElement) {
                    hintElement.style.display = "block"; // 立即显示提示信息
                }

                // 当所有文本都解锁时，显示 Next Page 按钮
                if (unlockedCount === totalTexts) {
                    document.getElementById("nextPage").style.display = "block";
                }
            }
        });
</script>
<script>
document.querySelectorAll(".trigger-word").forEach(trigger => {
    trigger.addEventListener("click", function() {
        let stimulantWord = document.querySelector(".word"); // 选取 STIMULANT 元素
        if (stimulantWord) {
            let currentIndex = parseInt(stimulantWord.getAttribute("data-index"), 10);
            if (!isNaN(currentIndex) && currentIndex > 0) {
                stimulantWord.setAttribute("data-index", currentIndex - 1);
            }
        }
    });
});

</script>
<script>
    document.getElementById("eurekaBtn").addEventListener("click", function() {
    document.querySelectorAll(".trigger-word").forEach(word => {
        word.classList.toggle("highlight");
    });
});

</script>
<script>
    document.querySelectorAll(".owo").forEach(element => {
    element.addEventListener("click", function () {
        this.style.animation = "none"; // 移除动画
        this.style.webkitTextStroke = "1px rgba(255, 255, 255, 1)"; // 保持点亮状态
    });
});
</script>
<script>
    document.querySelectorAll(".trigger-word").forEach(element => {
    element.addEventListener("click", function () {
        this.classList.add("clicked-word"); // 添加样式，变成描边效果
    });
});
</script>
</html>